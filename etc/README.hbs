# MongoDB Extended JSON Library  [![][npm_img]][npm_url] [![][travis_img]][travis_url]


The MongoDB Extended JSON Library allows you to convert MongoDB documents to Extended JSON, and vice versa. See the Extended JSON specification [here](https://github.com/mongodb/specifications/blob/master/source/extended-json.rst).

## Documentation

{{>main}}

## Usage With Other BSON Parsers

Although we include the pure Javascript BSON parser by default, you can also use a different BSON parser with this library, such as [bson-ext](https://www.npmjs.com/package/bson-ext). For example:

```js
let EJSON = require('mongodb-extjson'),
	BSON = require('bson-ext'),
    Int32 = BSON.Int32;

// set BSON module to be bson-ext
EJSON.setBSONModule(BSON);

var doc = { int32: new Int32(10) };
// prints '{"int32":{"$numberInt":"10"}}'
console.log(EJSON.stringify(doc));

var text = '{"int32":{"$numberInt":"10"}}';
// prints { int32: { [String: '10'] _bsontype: 'Int32', value: '10' } }
console.log(EJSON.parse(text));
```

[travis_img]: https://api.travis-ci.org/mongodb-js/mongodb-extjson.svg?branch=master
[travis_url]: https://travis-ci.org/mongodb-js/mongodb-extjson
[npm_img]: https://img.shields.io/npm/v/mongodb-extjson.svg
[npm_url]: https://www.npmjs.org/package/mongodb-extjson

## FAQ

#### What are the various files in dist?

* `mongodb-extjson.bundle.js` is a bundled up version of the library that is suitable for inclusion in an HTML page via a `<script>` tag.
* `mongodb-extjson.esm.js` is a rolled up version of the library that is suitable for interoperation with bundlers that work better with ES modules.
* `mongodb-extjson.browser.esm.js` is similar to `mongodb-extjson.esm.js` but is ultimately intened for consumers producing browser bundles. It also pulls in any browser specific dependencies/code that may be needed.
* `mongodb-extjson.browser.umd.js` is similar to the source code of this library but is ultimately intened for consumers producing browser bundlers expecting a UMD format. It also pulls in any browser specific dependencies/code that may be needed.

